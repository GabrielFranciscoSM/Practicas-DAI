

<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tienda Online - Productos frescos y de calidad</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/styles.css">
  </head>
  <body>

    {% block navbar %}
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm mb-4 fixed-top">
    <div class="container">

      <!-- Brand and search together on the left -->
      <div class="d-flex align-items-center">
        <a class="navbar-brand fw-bold me-3" href="/">Mi Tienda Online</a>

        <form class="d-flex" role="search" action="/buscar" method="GET">
          <input class="form-control me-2" type="search" name="q" placeholder="Buscar productos..." aria-label="Search" required/>
          <button class="btn btn-success" type="submit" style="background-color: var(--mercadona-green); border-color: var(--mercadona-green);">Buscar</button>
        </form>
      </div>

      <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
  <a type="button" href="/carrito"  class="btn btn-primary position-relative me-5" style="background-color: var(--mercadona-green); border-color: var(--mercadona-green);">
          
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
          </svg>
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            {{cantidadProductos}}
          </span>

          <span class="nav-price ms-3 d-none d-lg-inline">{{precioTotal}} €</span>
        </a>

        {% if usuario %}
          <div class="ms-3 d-flex align-items-center">
            <span class="me-2 d-none d-lg-inline">Hola, {{ usuario }}</span>
            <a href="/usuario/logout" class="btn btn-mercadona-outline btn-sm">Salir</a>
          </div>
        {% else %}
          <div class="ms-3 d-flex align-items-center">
            <a href="/usuario/login" class="btn btn-mercadona-link btn-sm me-2">Iniciar sesión</a>
            <a href="/usuario/registro" class="btn btn-mercadona btn-sm">Registro</a>
          </div>
        {% endif %}
      </div>
    </div>
    </nav>
    {% endblock %}
    
  <div class="mt-5 pt-2"></div>
    

    <main class="container mt-3">
      {% block carousel %}{% endblock %}
    </main>

    <main class="container mt-3">
      {% block content %}{% endblock %}
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script defer src="/static/cambio_precio.js"></script>
  </body>
</html>

