

<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tienda Online - Productos frescos y de calidad</title>
    <!-- Compiled Tailwind CSS -->
    <link rel="stylesheet" href="/static/styles.css">
    
  </head>
  <body>

    {% block navbar %}
    <nav class="fixed top-0 left-0 right-0 bg-white shadow-sm mb-4 z-50">
    <div class="container mx-auto px-4 flex items-center justify-between h-16">

      <!-- Brand and search together on the left -->
      <div class="flex items-center space-x-3">
        <a class="navbar-brand mr-3" href="/">Mi Tienda Online</a>

        <form class="flex items-center" role="search" action="/buscar" method="GET" id="search-form">
          <input class="border rounded px-3 py-2 h-10 mr-2" type="search" name="q" placeholder="Buscar productos..." aria-label="Search" required/>
          <button class="btn-mercadona px-3 py-2 rounded h-10" type="submit">Buscar</button>
        </form>

        <a class="btn-mercadona px-3 py-2 rounded h-10" href="/busqueda-anticipada">Busqueda Anticipada</a>

      </div>



        <div class="flex items-center justify-end">
        <a type="button" href="/carrito"  class="relative mr-5 inline-flex items-center h-10" style="background-color: var(--mercadona-green); border-color: var(--mercadona-green); padding: 0.4rem 0.75rem; border-radius: 0.375rem; color: #ffffff; text-decoration:none;">
          
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
          </svg>
          <span class="absolute top-1/2 transform -translate-y-1/2 right-0 rounded-full bg-red-600 text-white text-xs px-2">
            {{cantidadProductos}}
          </span>

          <span class="nav-price ml-3 hidden lg:inline">{{precioTotal}} €</span>
        </a>

        {% if usuario %}
          <div class="ml-3 flex items-center">
            <span class="mr-2 hidden lg:inline">Hola, {{ usuario }}</span>
            <a href="/usuario/logout" class="btn-mercadona-outline text-sm px-2 py-1 rounded inline-flex items-center h-10">Salir</a>
          </div>
        {% else %}
          <div class="ml-3 flex items-center">
            <a href="/usuario/login" class="btn-mercadona-link text-sm mr-2 inline-flex items-center h-10">Iniciar sesión</a>
            <a href="/usuario/registro" class="btn-mercadona text-sm px-2 py-1 rounded inline-flex items-center h-10">Registro</a>
          </div>
        {% endif %}
      </div>
    </div>
    </nav>
    {% endblock %}
    
  <!-- spacer for fixed navbar: adjusts for mobile/desktop nav height -->
  <div class="h-20 md:h-16" aria-hidden="true"></div>
    

    <main class="container mx-auto mt-3 px-4">
      {% block carousel %}{% endblock %}
    </main>

    <main class="container mx-auto mt-3 px-4">
      {% block content %}{% endblock %}
    </main>

    <!-- Tailwind CSS JS not required — compiled CSS is included above -->
    <script defer src="/static/cambio_precio.js"></script>
    <script defer src="/static/busqueda-interactiva.js"></script>
  </body>
</html>

