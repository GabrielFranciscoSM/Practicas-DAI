{% extends "base.html" %}
{% from "components/item.html" import card %}

{% block content %}

<div class="container mx-auto my-20 px-4">
  {% if query %}
    <h2 class="mb-2 font-bold text-2xl" style="color: #212529;">Resultados de búsqueda</h2>
    <p class="text-gray-500 mb-4" style="font-size: 0.95rem;">Mostrando resultados para "<span class="font-semibold">{{ query }}</span>" - {{ productosCards.length }} producto(s) encontrado(s)</p>
  {% else %}
    <h2 class="mb-2 font-bold text-2xl" style="color: #212529;">Búsqueda de productos</h2>
    <p class="text-gray-500 mb-4" style="font-size: 0.95rem;">Introduce un término de búsqueda en la barra superior</p>
  {% endif %}
  
  {% if productosCards.length > 0 %}
    <div id="resultados" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
      {% for producto in productosCards %}
        {{ card(producto,admin) }}
      {% endfor %}
    </div>
  {% else %}
    <div class="bg-white border mt-4 text-center py-8 px-6 rounded" role="alert">
      <h4 class="font-bold mb-3" style="color: #212529;">No se encontraron productos</h4>
      <p class="mb-3" style="font-size: 0.95rem;">No hay productos que coincidan con tu búsqueda "<span class="font-semibold">{{ query }}</span>".</p>
      <p class="mb-4 text-gray-500" style="font-size: 0.9rem;">Intenta con otros términos o explora nuestro catálogo completo.</p>
      <hr class="my-4">
      <a href="/" class="btn-mercadona font-semibold px-4 py-2 rounded">Volver al inicio</a>
    </div>
  {% endif %}
</div>

{% endblock %}